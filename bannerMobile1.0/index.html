<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<meta name="format-detection" content="telephone=no">
	<title>banner</title>
	<link rel="stylesheet" href="css/reset.css">
	<style>
		body{
			position: relative;
			overflow: hidden; + 'px'
		}
		#banner{
			width: 500%;
			position: absolute;
			top: 0;
		}
		#banner img{
			float: left;
			width: 20%;
		}
	</style>
</head>
<body>
	<div id="banner" style="left: 0">
		<img src="img/1.jpg" alt="">
		<img src="img/2.jpg" alt="">
		<img src="img/3.jpg" alt="">
		<img src="img/4.jpg" alt="">
		<img src="img/5.jpg" alt="">
	</div>
	<script>
		var oBanner = document.getElementById('banner');

		var startX = 0;
		var scroll = 0;
		var timer = 0;
		oBanner.addEventListener('touchstart', function(ev){
			startX = ev.changedTouches[0].pageX;
			clearInterval(timer);
		}, false)
		oBanner.addEventListener('touchmove',function(ev){
			scroll = ev.changedTouches[0].pageX-startX;
			this.style.left = parseInt(this.style.left) + scroll + 'px';
			startX = ev.changedTouches[0].pageX;
		},false)
		oBanner.addEventListener('touchend',function(ev){
			var nowP = -this.offsetLeft;
			var nowW = this.clientWidth;
			var n = nowP/nowW;
			if(n>=0&&n<1/15){
				move(this,'left',0,300);
			}else if(n<4/15){
				move(this,'left',-nowW/5,300);
			}else if(n<7/15){
				move(this,'left',-2*nowW/5,300);
			}else if(n<10/15){
				move(this,'left',-3*nowW/5,300);
			}else{
				move(this,'left',-4*nowW/5,300);
			}
		},false);

		function move(obj,attr,target,time){
			var nowp = parseInt(obj.style[attr]);
			var s = target - nowp;
			var v = 13*s/time;
			var mark = true;
			console.log(nowp,target,s,v,time)
			if(nowp>=target){
				mark = false;
			}
			timer = setInterval(function(){
				obj.style[attr] = parseInt(obj.style[attr]) + v + 'px';
				if(mark==true){
					if(parseInt(obj.style[attr])>=target){
						clearInterval(timer);
					}
				}else{
					if(parseInt(obj.style[attr])<=target){
						clearInterval(timer);
					}
				}
			},13);
		}
	</script>
</body>
</html>