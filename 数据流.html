<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>数据流</title>
	<style>
		body,div,canvas{
			margin: 0;
			padding: 0;
		}
		#can{
			background: #000;
		}
	</style>
</head>
<body>
	<canvas id="can" width="1900" height="933">你的浏览器不支持canvas，请更换或者升级浏览器</canvas>
	<script>
		//定义播放文字
		var words = [];
		words[0] = '老婆真好看 老婆真好看 老婆真好看 老婆真好看';
		words[1] = '老婆我想你了 老婆我想你了 老婆我想你了 老婆我想你了';
		words[2] = '老婆快出来 老婆快出来 老婆快出来 老婆快出来';
		words[3] = '老婆我以后不敢了 老婆我以后不敢了 老婆我以后不敢了';
		words[4] = '老婆你别生气 老婆你别生气 老婆你别生气 老婆你别生气';
		words[5] = '好喜欢老婆 好喜欢老婆 好喜欢老婆';
		words[6] = '老婆你在想我吗 老婆你在想我吗 老婆你在想我吗';
		words[7] = '邓芊是杨桐的老婆 老婆我爱你';
		words[8] = '永远都爱邓芊 不能让她难过';
		var arr = [];
		var str = [];
		var arrNew = [];

		//开始canvas绘制
		var can = document.getElementById('can');
		var cxt = can.getContext('2d');
		//绘制文字
		var time = setInterval(drawWords,80);
		function drawWords(){
			cxt.save();
			cxt.clearRect(0,0,1900,933);
			var r = parseInt(Math.random()*255);
			var g = parseInt(Math.random()*255);
			var b = parseInt(Math.random()*255);
			var LR = 916;
			var speed = parseInt(Math.random()*5+1);
			//var LR = parseInt(Math.random()*913);
			var TB = parseInt(Math.random()*(-1880));
			var index = parseInt(Math.random()*words.length);
			str = r+' '+g+' '+b+' '+speed+' '+TB+' '+index+' '+LR;
			arr.push(str);
			for(i=0;i<arr.length;i++){
				arrNew = [];
				arrNew = arr[i].split(' ');
				//console.log(arrNew);
				cxt.save();
				cxt.rotate(Math.PI/2);
				cxt.font='20px Microsoft yahei';
				cxt.fillStyle = 'rgb('+arrNew[0]+','+arrNew[1]+','+arrNew[2]+')';
				cxt.textBaseline = 'bottom';
				cxt.fillText(words[arrNew[5]],arrNew[6],arrNew[4]);
				//console.log('r:'+r+'g:'+g+'b:'+b+'LR:'+LR+'TB:'+TB+'index:'+index);
				cxt.restore();
				arrNew[6]=parseInt(arrNew[6])-parseInt(arrNew[3]);
				str = arrNew.join(' ');
				arr[i]=str;
			}
			//cxt.fillText(words[index],916,TB); //上下0~933 左右0~-1900 
			//console.log('r:'+r+'g:'+g+'b:'+b+'LR:'+LR+'TB:'+TB+'index:'+index);
			/*var timer = setInterval(function(){
				LR=LR-3;
				cxt.save();
				cxt.clearRect(0,0,can.width,can.height);
				cxt.rotate(Math.PI/2);
				cxt.font='20px Microsoft yahei';
				cxt.fillStyle = 'rgb('+r+','+g+','+b+')';
				cxt.textBaseline = 'bottom';
				cxt.fillText(words[index],LR,TB);
				//console.log('r:'+r+'g:'+g+'b:'+b+'LR:'+LR+'TB:'+TB+'index:'+index);
				if(LR<=0){
					cxt.clearRect(0,0,can.width,can.height);
					clearInterval(timer);
				}
				cxt.restore();
			},50)*/
			cxt.restore();
		}
	</script>
</body>
</html>