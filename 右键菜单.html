<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="reset.css">
	<title></title>
	<style>
		#menu{
			position: relative
			position: fixed;
			display: none;
			width: 200px;
			background: #666;
			left: 0;
			top: 0;
			border-radius: 3px;
		}
		#menu ul li{
			list-style: none;
			font-size: 14px;
			color: #fff;
			line-height: 25px;
			text-indent: 20px;
			border-radius: 3px;
			cursor: pointer;
		}
		#menu ul li:hover{
			background: #999;
		}
	</style>
</head>
<body>
	<div id="menu">
		<ul>
			<li>刷新</li>
			<li>菜单1</li>
			<li>菜单2</li>
			<li>菜单3</li>
			<li>菜单4</li>
			<li>菜单5</li>
			<li>菜单6</li>
			<li>菜单5</li>
			<li>菜单6</li>
			<li>菜单5</li>
			<li>菜单6</li>
			<li>菜单5</li>
			<li>菜单6</li>
		</ul>
	</div>
	<script src="class.js"></script>
	<script>
		var oMenu = document.getElementById('menu');
		var oLi = oMenu.children[0].children;
		for(var i = 0;i<oLi.length;i++){
			oLi[i].index = i;
			oLi[i].onclick=function(){
				if(this.index==0){
					alert('点了刷新');
				}else{
					alert('点了菜单'+this.index);
				}
			}
		}
		document.oncontextmenu = function(ev){
			ev=ev||window.event;
			oMenu.style.display = 'block';
			var winWidth = getDocumentWidth();
			var winHeight = getDocumentHeight();
			var showX = ev.clientX;
			var showY = ev.clientY;
			var _x = winWidth - (showX+200);
			var _y = winHeight - (showY+oLi.length*25);
			if(_x<0){
				showX += _x;
			}
			if(_y<0){
				showY -= oLi.length*25;
			}
			oMenu.style.left = showX + 'px';
			oMenu.style.top = showY + 'px';
			return false;
		};
		document.onmouseup = function(){
			oMenu.style.display = 'none';
		}
	</script>
</body>
</html>